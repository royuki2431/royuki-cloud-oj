# Royuki Cloud OJ å‰ç«¯å¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…ï¼š

- âœ… Node.js >= 16.0.0 ï¼ˆæ¨è 18.x æˆ– 20.xï¼‰
- âœ… npm >= 7.0.0 æˆ– pnpm >= 8.0.0ï¼ˆæ¨èï¼‰
- âœ… åç«¯æœåŠ¡å·²å¯åŠ¨å¹¶è¿è¡Œåœ¨ `http://localhost:8080`

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤1ï¼šè¿›å…¥å‰ç«¯ç›®å½•

```bash
cd d:\dev\pyfile\royuki-cloud-oj\frontend
```

### æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–

**ä½¿ç”¨npm:**
```bash
npm install
```

**ä½¿ç”¨pnpmï¼ˆæ¨èï¼Œæ›´å¿«ï¼‰:**
```bash
# å¦‚æœæ²¡æœ‰å®‰è£…pnpm
npm install -g pnpm

# å®‰è£…ä¾èµ–
pnpm install
```

**ä½¿ç”¨yarn:**
```bash
yarn install
```

### æ­¥éª¤3ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æˆ–

```bash
pnpm dev
```

âœ… å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®ï¼š**http://localhost:3000**

---

## ğŸ“± åŠŸèƒ½é¡µé¢

å¯åŠ¨åå¯è®¿é—®ä»¥ä¸‹é¡µé¢ï¼š

| é¡µé¢ | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| ä»£ç è¯„æµ‹ | http://localhost:3000/judge | æäº¤ä»£ç å¹¶æŸ¥çœ‹è¯„æµ‹ç»“æœ |
| æäº¤å†å² | http://localhost:3000/submissions | æŸ¥çœ‹å†å²æäº¤è®°å½• |

---

## ğŸ¯ æµ‹è¯•æµç¨‹

### 1. æµ‹è¯•ä»£ç æäº¤

1. è®¿é—® http://localhost:3000/judge
2. é€‰æ‹©ç¼–ç¨‹è¯­è¨€ï¼ˆJava/C/C++/Pythonï¼‰
3. ç¼–å†™ä»£ç 
4. ç‚¹å‡»"æäº¤ä»£ç "æŒ‰é’®
5. ç­‰å¾…è¯„æµ‹ç»“æœï¼ˆè‡ªåŠ¨è½®è¯¢ï¼‰
6. æŸ¥çœ‹è¯„æµ‹çŠ¶æ€ã€å¾—åˆ†ã€è¿è¡Œæ—¶é—´ã€å†…å­˜ä½¿ç”¨ç­‰ä¿¡æ¯

### 2. æµ‹è¯•æäº¤å†å²

1. è®¿é—® http://localhost:3000/submissions
2. æŸ¥çœ‹æäº¤è®°å½•åˆ—è¡¨
3. ç‚¹å‡»"æŸ¥çœ‹ä»£ç "æŸ¥çœ‹å†å²æäº¤çš„ä»£ç 
4. ç‚¹å‡»"é‡æ–°è¯„æµ‹"é‡æ–°è¯„æµ‹æŸä¸ªæäº¤

---

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### APIä»£ç†é…ç½®

å¼€å‘ç¯å¢ƒä¸‹ï¼Œå‰ç«¯é€šè¿‡Viteä»£ç†å°† `/api` è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ï¼š

```typescript
// vite.config.ts
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true,
    },
  },
}
```

### ç¯å¢ƒå˜é‡

**å¼€å‘ç¯å¢ƒ** (`.env.development`):
```
VITE_API_BASE_URL=http://localhost:8080/api
```

**ç”Ÿäº§ç¯å¢ƒ** (`.env.production`):
```
VITE_API_BASE_URL=/api
```

---

## ğŸ“¦ ç”Ÿäº§æ„å»º

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

ç”Ÿæˆçš„æ–‡ä»¶åœ¨ `dist/` ç›®å½•ä¸‹ã€‚

### é¢„è§ˆæ„å»ºç»“æœ

```bash
npm run preview
```

è®¿é—® http://localhost:4173

### éƒ¨ç½²åˆ°æœåŠ¡å™¨

å°† `dist/` ç›®å½•çš„å†…å®¹éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ï¼ˆNginxã€Apacheç­‰ï¼‰ï¼š

```bash
# ç¤ºä¾‹ï¼šéƒ¨ç½²åˆ°Nginx
cp -r dist/* /usr/share/nginx/html/
```

---

## â“ å¸¸è§é—®é¢˜

### 1. ä¾èµ–å®‰è£…å¤±è´¥

**é—®é¢˜**ï¼šnpm install æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# æ¸…é™¤npmç¼“å­˜
npm cache clean --force

# ä½¿ç”¨å›½å†…é•œåƒ
npm install --registry=https://registry.npmmirror.com

# æˆ–ä½¿ç”¨pnpmï¼ˆæ¨èï¼‰
npm install -g pnpm
pnpm install
```

### 2. å¯åŠ¨å¤±è´¥ - ç«¯å£è¢«å ç”¨

**é—®é¢˜**ï¼šError: Port 3000 is already in use

**è§£å†³æ–¹æ¡ˆ**ï¼š

æ–¹æ³•1ï¼šä¿®æ”¹ç«¯å£
```bash
# package.jsonä¸­ä¿®æ”¹
"dev": "vite --port 3001"
```

æ–¹æ³•2ï¼šå…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹
```powershell
# Windows PowerShell
netstat -ano | findstr :3000
taskkill /PID <è¿›ç¨‹ID> /F
```

### 3. APIè¯·æ±‚å¤±è´¥

**é—®é¢˜**ï¼šFailed to fetch / Network Error

**æ£€æŸ¥æ¸…å•**ï¼š
- âœ… åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼ˆ8080ç«¯å£ï¼‰
- âœ… judge-serviceæ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆ8083ç«¯å£ï¼‰
- âœ… ç½‘ç»œä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
- âœ… æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. ç¡®è®¤åç«¯æœåŠ¡çŠ¶æ€
curl http://localhost:8080/api/judge/health

# 2. æŸ¥çœ‹Viteä»£ç†æ—¥å¿—
# å¼€å‘æœåŠ¡å™¨æ§åˆ¶å°ä¼šæ˜¾ç¤ºä»£ç†è¯·æ±‚

# 3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
# F12 -> Network -> æŸ¥çœ‹APIè¯·æ±‚çŠ¶æ€
```

### 4. Monaco Editoræ˜¾ç¤ºé—®é¢˜

**é—®é¢˜**ï¼šä»£ç ç¼–è¾‘å™¨æ— æ³•åŠ è½½æˆ–æ˜¾ç¤ºå¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# é‡æ–°å®‰è£…monaco-editor
npm uninstall monaco-editor
npm install monaco-editor@^0.45.0

# æ¸…é™¤Viteç¼“å­˜
rm -rf node_modules/.vite
npm run dev
```

### 5. TypeScriptç±»å‹é”™è¯¯

**é—®é¢˜**ï¼šIDEä¸­æ˜¾ç¤ºå¤§é‡TypeScripté”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

è¿™äº›é”™è¯¯åœ¨å®‰è£…ä¾èµ–åä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼š

```bash
# å®‰è£…ä¾èµ–
npm install

# é‡å¯VSCode
# Ctrl+Shift+P -> Reload Window
```

### 6. Element Plusæ ·å¼ä¸¢å¤±

**é—®é¢˜**ï¼šElement Plusç»„ä»¶æ ·å¼æœªç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# ç¡®ä¿å·²å¯¼å…¥Element Plusæ ·å¼
# src/main.tsä¸­åº”æœ‰
import 'element-plus/dist/index.css'

# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

---

## ğŸ¨ IDEæ¨èé…ç½®

### VS Codeæ‰©å±•æ¨è

- **Vue Language Features (Volar)** - Vue 3è¯­è¨€æ”¯æŒ
- **TypeScript Vue Plugin (Volar)** - Vue TypeScriptæ”¯æŒ
- **ESLint** - ä»£ç æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–

### VS Codeé…ç½®

åˆ›å»º `.vscode/settings.json`ï¼š

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "volar.takeOverMode.enabled": true
}
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å¼€å‘ç¯å¢ƒä¼˜åŒ–

```bash
# ä½¿ç”¨pnpmï¼ˆæ¯”npmå¿«3å€ï¼‰
npm install -g pnpm
pnpm install

# å¯ç”¨Viteçš„é¢„æ„å»ºç¼“å­˜
# node_modules/.vite ç›®å½•ä¼šè¢«è‡ªåŠ¨åˆ›å»º
```

### ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

```typescript
// vite.config.ts
build: {
  rollupOptions: {
    output: {
      manualChunks: {
        'element-plus': ['element-plus'],
        'monaco': ['monaco-editor'],
      },
    },
  },
}
```

---

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. Vue Devtools

å®‰è£…æµè§ˆå™¨æ‰©å±•ï¼š[Vue Devtools](https://devtools.vuejs.org/)

### 2. æŸ¥çœ‹APIè¯·æ±‚

æµè§ˆå™¨ F12 -> Network -> ç­›é€‰XHR

### 3. æ§åˆ¶å°æ—¥å¿—

```typescript
// æŸ¥çœ‹APIå“åº”
console.log('API Response:', data)

// æŸ¥çœ‹ç»„ä»¶çŠ¶æ€
console.log('Component State:', {
  code: code.value,
  language: selectedLanguage.value,
})
```

---

## ğŸ“š ç›¸å…³å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run dev` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| `npm run build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `npm run preview` | é¢„è§ˆç”Ÿäº§æ„å»º |
| `npm install` | å®‰è£…ä¾èµ– |
| `npm cache clean --force` | æ¸…é™¤npmç¼“å­˜ |

---

## ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ |
|--------|----------|
| Chrome | 90+ |
| Edge | 90+ |
| Firefox | 88+ |
| Safari | 14+ |

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æŸ¥çœ‹Viteå¼€å‘æœåŠ¡å™¨æ—¥å¿—
3. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"ç« èŠ‚
4. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

---

## âœ… å¯åŠ¨æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹å¼€å‘å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] Node.jsç‰ˆæœ¬ >= 16
- [ ] ä¾èµ–å®‰è£…æˆåŠŸï¼ˆnode_moduleså­˜åœ¨ï¼‰
- [ ] åç«¯æœåŠ¡å·²å¯åŠ¨ï¼ˆ8080ç«¯å£ï¼‰
- [ ] judge-serviceå·²å¯åŠ¨ï¼ˆ8083ç«¯å£ï¼‰
- [ ] MySQLã€Redisã€RabbitMQå·²å¯åŠ¨
- [ ] æµè§ˆå™¨ç‰ˆæœ¬ç¬¦åˆè¦æ±‚
- [ ] å¼€å‘æœåŠ¡å™¨æˆåŠŸå¯åŠ¨ï¼ˆ3000ç«¯å£ï¼‰

å…¨éƒ¨ç¡®è®¤åï¼Œå³å¯å¼€å§‹å¼€å‘ï¼ğŸ‰
